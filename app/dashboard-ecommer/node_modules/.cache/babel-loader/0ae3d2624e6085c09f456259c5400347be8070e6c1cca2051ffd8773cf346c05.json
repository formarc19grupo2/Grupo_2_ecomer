{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\casa\\\\Documents\\\\Sprint8\\\\dashboard-ecommer\\\\src\\\\pages\\\\Dashboard\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport { Card } from \"../../components/Card\";\nimport { LastDataContainer } from \"../../components/LastDataContainer\";\nimport { useState, useEffect } from \"react\";\nimport { getProducts } from \"../../services/products.service\";\nimport { Loading } from \"../../components/Loading\";\nimport { getUsers } from \"../../services/users.service\";\nimport { generateCards } from \"../../helpers/dashboard.helper\";\nimport { Alert } from \"../../components/Alert\";\nimport { ShowError } from \"../../components/Error\";\nimport { CategoriesChart } from \"../../components/CategoriesChart\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Dashboard = () => {\n  _s();\n  const [products, setProducts] = useState(null);\n  const [users, setUsers] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [cardsData, setCardsData] = useState([]);\n  const [alert, setAlert] = useState({\n    show: false,\n    type: \"\",\n    message: \"\"\n  });\n  const [lastProductCreated, setLastProductCreated] = useState();\n  const [lastUserCreated, setLastUserCreated] = useState();\n\n  /* Efecto que se dispara solo al renderizar por primera vez el componente, se encarga de hacer las llamadas a las APIs */\n  useEffect(() => {\n    setIsLoading(true);\n    const fetchProducts = getProducts();\n    const fetchUsers = getUsers();\n    Promise.all([fetchProducts, fetchUsers]).then(_ref => {\n      let [productsResponse, usersResponse] = _ref;\n      setProducts(productsResponse);\n      setUsers(usersResponse);\n    }).catch(error => {\n      console.error(error);\n      setAlert({\n        message: \"Ocurri贸 un error al obtener la informaci贸n\",\n        type: \"danger\",\n        show: true\n      });\n      setError(true);\n    }).finally(setIsLoading(false));\n  }, []);\n  useEffect(() => {\n    if (!products || !users) return;\n    const {\n      products: productsList\n    } = products;\n    const {\n      users: usersList\n    } = users;\n    const cards = generateCards(products, users);\n    setLastProductCreated(productsList.pop());\n    setLastUserCreated(usersList.pop());\n    setCardsData(cards);\n  }, [products, users]);\n  if (isLoading) return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    children: [error && /*#__PURE__*/_jsxDEV(ShowError, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this), alert.show && /*#__PURE__*/_jsxDEV(Alert, {\n      alert: alert,\n      setAlert: setAlert\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 22\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-sm-flex align-items-center justify-content-between mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"h3 mb-0 text-gray-800\",\n        children: \"Ecommer Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: cardsData.map(_ref2 => {\n        let {\n          id,\n          color,\n          title,\n          quantity,\n          icon,\n          href\n        } = _ref2;\n        return /*#__PURE__*/_jsxDEV(Card, {\n          color: color,\n          title: title,\n          quantity: quantity,\n          icon: icon,\n          href: href\n        }, id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(LastDataContainer, {\n        type: \"product\",\n        data: lastProductCreated\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LastDataContainer, {\n        type: \"user\",\n        data: lastUserCreated\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(CategoriesChart, {\n        countByCategory: products === null || products === void 0 ? void 0 : products.countByCategory\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"aUlI4CtPKQ7mrHdBlQt+E7irRZw=\");\n_c = Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["Card","LastDataContainer","useState","useEffect","getProducts","Loading","getUsers","generateCards","Alert","ShowError","CategoriesChart","jsxDEV","_jsxDEV","Dashboard","_s","products","setProducts","users","setUsers","isLoading","setIsLoading","error","setError","cardsData","setCardsData","alert","setAlert","show","type","message","lastProductCreated","setLastProductCreated","lastUserCreated","setLastUserCreated","fetchProducts","fetchUsers","Promise","all","then","_ref","productsResponse","usersResponse","catch","console","finally","productsList","usersList","cards","pop","fileName","_jsxFileName","lineNumber","columnNumber","className","children","map","_ref2","id","color","title","quantity","icon","href","data","countByCategory","_c","$RefreshReg$"],"sources":["C:/Users/casa/Documents/Sprint8/dashboard-ecommer/src/pages/Dashboard/index.jsx"],"sourcesContent":["import { Card } from \"../../components/Card\";\nimport { LastDataContainer } from \"../../components/LastDataContainer\";\nimport { useState, useEffect } from \"react\";\nimport { getProducts } from \"../../services/products.service\";\nimport { Loading } from \"../../components/Loading\";\nimport { getUsers } from \"../../services/users.service\";\nimport { generateCards } from \"../../helpers/dashboard.helper\";\nimport { Alert } from \"../../components/Alert\";\nimport { ShowError } from \"../../components/Error\";\nimport { CategoriesChart } from \"../../components/CategoriesChart\";\n\nexport const Dashboard = () => {\n  const [products, setProducts] = useState(null);\n  const [users, setUsers] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [cardsData, setCardsData] = useState([]);\n  const [alert, setAlert] = useState({\n    show: false,\n    type: \"\",\n    message: \"\",\n  });\n\n  const [lastProductCreated, setLastProductCreated] = useState();\n  const [lastUserCreated, setLastUserCreated] = useState();\n\n  /* Efecto que se dispara solo al renderizar por primera vez el componente, se encarga de hacer las llamadas a las APIs */\n  useEffect(() => {\n    setIsLoading(true);\n\n    const fetchProducts = getProducts();\n\n    const fetchUsers = getUsers();\n\n    Promise.all([fetchProducts, fetchUsers])\n      .then(([productsResponse, usersResponse]) => {\n        setProducts(productsResponse);\n        setUsers(usersResponse);\n      })\n      .catch((error) => {\n        console.error(error);\n\n        setAlert({\n          message: \"Ocurri贸 un error al obtener la informaci贸n\",\n          type: \"danger\",\n          show: true,\n        });\n\n        setError(true);\n      })\n      .finally(setIsLoading(false));\n  }, []);\n\n  useEffect(() => {\n    if (!products || !users) return;\n    const { products: productsList } = products;\n    const { users: usersList } = users;\n    const cards = generateCards(products, users);\n\n    setLastProductCreated(productsList.pop());\n    setLastUserCreated(usersList.pop());\n    setCardsData(cards);\n  }, [products, users]);\n\n  if (isLoading) return <Loading />;\n\n  return (\n    <div className=\"container-fluid\">\n\n      {error && <ShowError />}\n      \n      {alert.show && <Alert alert={alert} setAlert={setAlert} />}\n\n      <div className=\"d-sm-flex align-items-center justify-content-between mb-4\">\n        <h1 className=\"h3 mb-0 text-gray-800\">Ecommer Dashboard</h1>\n      </div>\n\n      <div className=\"row\">\n        {cardsData.map(({ id, color, title, quantity, icon, href }) => (\n          <Card\n            key={id}\n            color={color}\n            title={title}\n            quantity={quantity}\n            icon={icon}\n            href={href}\n          />\n        ))}\n      </div>\n\n      <div className=\"row\">\n        <LastDataContainer type=\"product\" data={lastProductCreated} />\n        <LastDataContainer type=\"user\" data={lastUserCreated} />\n      </div>\n      <div className=\"row\">\n            <CategoriesChart countByCategory={products?.countByCategory}/>\n      </div>\n    </div>\n  );\n};\n"],"mappings":";;AAAA,SAASA,IAAI,QAAQ,uBAAuB;AAC5C,SAASC,iBAAiB,QAAQ,oCAAoC;AACtE,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,iCAAiC;AAC7D,SAASC,OAAO,QAAQ,0BAA0B;AAClD,SAASC,QAAQ,QAAQ,8BAA8B;AACvD,SAASC,aAAa,QAAQ,gCAAgC;AAC9D,SAASC,KAAK,QAAQ,wBAAwB;AAC9C,SAASC,SAAS,QAAQ,wBAAwB;AAClD,SAASC,eAAe,QAAQ,kCAAkC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnE,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACiB,SAAS,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACmB,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAAC,KAAK,CAAC;EACzC,MAAM,CAACqB,SAAS,EAAEC,YAAY,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACuB,KAAK,EAAEC,QAAQ,CAAC,GAAGxB,QAAQ,CAAC;IACjCyB,IAAI,EAAE,KAAK;IACXC,IAAI,EAAE,EAAE;IACRC,OAAO,EAAE;EACX,CAAC,CAAC;EAEF,MAAM,CAACC,kBAAkB,EAAEC,qBAAqB,CAAC,GAAG7B,QAAQ,CAAC,CAAC;EAC9D,MAAM,CAAC8B,eAAe,EAAEC,kBAAkB,CAAC,GAAG/B,QAAQ,CAAC,CAAC;;EAExD;EACAC,SAAS,CAAC,MAAM;IACdiB,YAAY,CAAC,IAAI,CAAC;IAElB,MAAMc,aAAa,GAAG9B,WAAW,CAAC,CAAC;IAEnC,MAAM+B,UAAU,GAAG7B,QAAQ,CAAC,CAAC;IAE7B8B,OAAO,CAACC,GAAG,CAAC,CAACH,aAAa,EAAEC,UAAU,CAAC,CAAC,CACrCG,IAAI,CAACC,IAAA,IAAuC;MAAA,IAAtC,CAACC,gBAAgB,EAAEC,aAAa,CAAC,GAAAF,IAAA;MACtCvB,WAAW,CAACwB,gBAAgB,CAAC;MAC7BtB,QAAQ,CAACuB,aAAa,CAAC;IACzB,CAAC,CAAC,CACDC,KAAK,CAAErB,KAAK,IAAK;MAChBsB,OAAO,CAACtB,KAAK,CAACA,KAAK,CAAC;MAEpBK,QAAQ,CAAC;QACPG,OAAO,EAAE,4CAA4C;QACrDD,IAAI,EAAE,QAAQ;QACdD,IAAI,EAAE;MACR,CAAC,CAAC;MAEFL,QAAQ,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,CACDsB,OAAO,CAACxB,YAAY,CAAC,KAAK,CAAC,CAAC;EACjC,CAAC,EAAE,EAAE,CAAC;EAENjB,SAAS,CAAC,MAAM;IACd,IAAI,CAACY,QAAQ,IAAI,CAACE,KAAK,EAAE;IACzB,MAAM;MAAEF,QAAQ,EAAE8B;IAAa,CAAC,GAAG9B,QAAQ;IAC3C,MAAM;MAAEE,KAAK,EAAE6B;IAAU,CAAC,GAAG7B,KAAK;IAClC,MAAM8B,KAAK,GAAGxC,aAAa,CAACQ,QAAQ,EAAEE,KAAK,CAAC;IAE5Cc,qBAAqB,CAACc,YAAY,CAACG,GAAG,CAAC,CAAC,CAAC;IACzCf,kBAAkB,CAACa,SAAS,CAACE,GAAG,CAAC,CAAC,CAAC;IACnCxB,YAAY,CAACuB,KAAK,CAAC;EACrB,CAAC,EAAE,CAAChC,QAAQ,EAAEE,KAAK,CAAC,CAAC;EAErB,IAAIE,SAAS,EAAE,oBAAOP,OAAA,CAACP,OAAO;IAAA4C,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;EAEjC,oBACExC,OAAA;IAAKyC,SAAS,EAAC,iBAAiB;IAAAC,QAAA,GAE7BjC,KAAK,iBAAIT,OAAA,CAACH,SAAS;MAAAwC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAEtB3B,KAAK,CAACE,IAAI,iBAAIf,OAAA,CAACJ,KAAK;MAACiB,KAAK,EAAEA,KAAM;MAACC,QAAQ,EAAEA;IAAS;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAE1DxC,OAAA;MAAKyC,SAAS,EAAC,2DAA2D;MAAAC,QAAA,eACxE1C,OAAA;QAAIyC,SAAS,EAAC,uBAAuB;QAAAC,QAAA,EAAC;MAAiB;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzD,CAAC,eAENxC,OAAA;MAAKyC,SAAS,EAAC,KAAK;MAAAC,QAAA,EACjB/B,SAAS,CAACgC,GAAG,CAACC,KAAA;QAAA,IAAC;UAAEC,EAAE;UAAEC,KAAK;UAAEC,KAAK;UAAEC,QAAQ;UAAEC,IAAI;UAAEC;QAAK,CAAC,GAAAN,KAAA;QAAA,oBACxD5C,OAAA,CAACZ,IAAI;UAEH0D,KAAK,EAAEA,KAAM;UACbC,KAAK,EAAEA,KAAM;UACbC,QAAQ,EAAEA,QAAS;UACnBC,IAAI,EAAEA,IAAK;UACXC,IAAI,EAAEA;QAAK,GALNL,EAAE;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAMR,CAAC;MAAA,CACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENxC,OAAA;MAAKyC,SAAS,EAAC,KAAK;MAAAC,QAAA,gBAClB1C,OAAA,CAACX,iBAAiB;QAAC2B,IAAI,EAAC,SAAS;QAACmC,IAAI,EAAEjC;MAAmB;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAC9DxC,OAAA,CAACX,iBAAiB;QAAC2B,IAAI,EAAC,MAAM;QAACmC,IAAI,EAAE/B;MAAgB;QAAAiB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrD,CAAC,eACNxC,OAAA;MAAKyC,SAAS,EAAC,KAAK;MAAAC,QAAA,eACd1C,OAAA,CAACF,eAAe;QAACsD,eAAe,EAAEjD,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEiD;MAAgB;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/D,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACtC,EAAA,CAxFWD,SAAS;AAAAoD,EAAA,GAATpD,SAAS;AAAA,IAAAoD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}